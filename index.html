<!DOCTYPE html>
<html lang="th" id="top">
<head>
  <meta charset="utf-8" />
  <title>NextPlot Modular</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="description" content="NextPlot Multi-file Modular Version" />
  <meta name="theme-color" content="#2E2E2E">
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="print.css" media="print" />
  <style>
    .fallback-note{margin:20px 0;font:12px/1.5 monospace;color:#f5c86b;background:#332b17;padding:10px 14px;border:1px solid #5a481d;border-radius:8px}
    .fallback-grid{display:grid;gap:28px;grid-template-columns:repeat(auto-fill,minmax(300px,1fr))}
    .fallback-card{background:linear-gradient(180deg,var(--card-alt),var(--card));border:1px solid var(--border);border-radius:26px;padding:18px 18px 22px;display:flex;flex-direction:column;gap:10px;position:relative}
    .fallback-card h3{margin:4px 0 0;font-size:17px;line-height:1.3}
    .fallback-cover{width:100%;aspect-ratio:4/3;object-fit:cover;border-radius:18px;background:#222}
    .fallback-meta{font-size:13px;color:var(--text-dim);display:flex;flex-direction:column;gap:4px}
    .fallback-price{font-size:20px;font-weight:700;color:var(--accent)}
    .fallback-badge{display:inline-block;background:#555;padding:5px 10px;border-radius:24px;font-size:11px;margin:2px 6px 0 0}
    .fallback-zoning{display:flex;align-items:center;gap:6px;font-size:12px;color:var(--text-dim);margin-top:6px}
    .fallback-zoning span.sw{width:16px;height:16px;border-radius:5px;display:inline-block;border:1px solid rgba(255,255,255,.5)}
  </style>
</head>
<body>
<a href="#main" class="skip-link">‡∏Ç‡πâ‡∏≤‡∏°‡πÑ‡∏õ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤</a>

<header class="site-header">
  <div class="header-row">
    <div class="brand">
      <div class="brand-logo" aria-label="NextPlot logo">NP</div>
      <div class="brand-text">
        <div class="brand-name">NextPlot</div>
        <div class="brand-tagline">PLOT FOR SALE</div>
      </div>
    </div>
    <div class="top-controls">
      <div id="langSwitch" class="lang-switch" aria-label="Language switch"></div>
      <button id="themeBtn" class="btn-ghost" aria-label="Toggle Theme">üåô</button>
      <button id="authBtn" class="btn-outline" data-i18n="nav.login">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
    </div>
  </div>
  <nav class="main-nav" aria-label="Main navigation">
    <a href="#top">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
    <a href="#properties" data-i18n="nav.properties">‡∏ó‡∏µ‡πà‡∏î‡∏¥‡∏ô</a>
    <a href="#contact" data-i18n="nav.contact">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</a>
    <a href="https://landsmaps.dol.go.th/" target="_blank" rel="noopener" data-i18n="nav.landsmaps">LandsMaps</a>
  </nav>
</header>

<section class="hero">
  <h1 data-i18n="hero.title">
    ‡∏ö‡∏£‡∏¥‡∏Å‡∏≤‡∏£‡∏ã‡∏∑‡πâ‡∏≠‚Äë‡∏Ç‡∏≤‡∏¢‚Äë‡πÄ‡∏ä‡πà‡∏≤  ‡πÅ‡∏•‡∏∞  ‡∏Ç‡∏≤‡∏¢‡∏ù‡∏≤‡∏Å  ‡∏£‡∏±‡∏ö‡∏à‡∏±‡∏î‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏î‡∏¥‡∏ô‡∏ï‡∏≤‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πà‡∏ß‡∏£‡∏≤‡∏ä‡∏≠‡∏≤‡∏ì‡∏≤‡∏à‡∏±‡∏Å‡∏£
  </h1>
  <p class="hero-desc" data-i18n="hero.description">
    ‡∏ö‡πâ‡∏≤‡∏ô  ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏û‡∏≤‡∏ì‡∏¥‡∏ä  ‡∏ó‡∏µ‡πà‡∏î‡∏¥‡∏ô ‡πÇ‡∏Å‡∏î‡∏±‡∏á ‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÅ‡∏ä‡∏£‡πå‡∏á‡πà‡∏≤‡∏¢‡∏´‡∏•‡∏≤‡∏¢‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ‡πÄ‡∏Ç‡πâ‡∏≤‡∏ñ‡∏∂‡∏á‡πÑ‡∏î‡πâ ‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤ (PDPA) ‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏ö‡∏Ç‡∏≠‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÅ‡∏ö‡∏ö Soft Gate
  </p>
  <div class="hero-cta">
    <button class="btn" data-i18n="hero.cta.viewAll" id="viewAllBtn">‡∏î‡∏π‡∏ó‡∏µ‡πà‡∏î‡∏¥‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
    <button class="btn btn-outline" data-i18n="hero.cta.contact" id="contactBtn">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</button>
  </div>
</section>

<main id="main" class="main-section">
  <section id="filtersSection">
    <div class="filters">
      <input id="fKeyword" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤..." data-i18n-ph="search.placeholder">
      <input id="fLocation" placeholder="‡∏ó‡∏≥‡πÄ‡∏•" data-i18n-ph="filter.location">
      <input id="fPriceMin" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î" type="number" data-i18n-ph="filter.priceMin">
      <input id="fPriceMax" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î" type="number" data-i18n-ph="filter.priceMax">
      <input id="fAreaMin" placeholder="‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î (‡πÑ‡∏£‡πà)" type="number" data-i18n-ph="filter.areaMin">
      <input id="fAreaMax" placeholder="‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î (‡πÑ‡∏£‡πà)" type="number" data-i18n-ph="filter.areaMax">
      <select id="fStatus">
        <option value="all" data-i18n="filter.status.all">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
        <option value="available" data-i18n="status.available">‡∏ß‡πà‡∏≤‡∏á</option>
        <option value="reserved" data-i18n="status.reserved">‡∏à‡∏≠‡∏á</option>
        <option value="sold" data-i18n="status.sold">‡∏Ç‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß</option>
      </select>
      <select id="fSort">
        <option value="latest" data-i18n="sort.latest">‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</option>
        <option value="priceAsc" data-i18n="sort.priceAsc">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏ï‡πà‡∏≥ - ‡∏™‡∏π‡∏á</option>
        <option value="priceDesc" data-i18n="sort.priceDesc">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏π‡∏á - ‡∏ï‡πà‡∏≥</option>
      </select>
      <div class="filter-actions">
        <button class="btn-small" id="applyBtn" data-i18n="filter.apply">‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</button>
        <button class="btn-small btn-ghost" id="clearBtn" data-i18n="filter.clear">‡∏•‡πâ‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á</button>
      </div>
    </div>
  </section>

  <section id="properties" aria-live="polite">
    <div id="propertiesGrid" class="grid"></div>
    <div id="noResults" class="no-results" style="display:none;">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏ó‡∏µ‡πà‡∏î‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç</div>
    <div id="debugSlot" style="margin-top:30px;font:12px/1.4 monospace;color:#888;"></div>
  </section>

  <section id="contact" class="contact-section">
    <h2 data-i18n="nav.contact" class="contact-title">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</h2>
    <div id="leadFormContainer"></div>
  </section>

  <section class="info-panels" aria-label="Information panels">
    <div class="panels-grid">
      <article class="gold-panel">
        <h3 data-i18n="about.title">‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö NextPlot</h3>
        <p data-i18n="about.desc">NextPlot ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏û‡∏•‡∏ï‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏≠‡∏™‡∏±‡∏á‡∏´‡∏≤‡∏£‡∏¥‡∏°‡∏ó‡∏£‡∏±‡∏û‡∏¢‡πå‡∏Ñ‡∏£‡∏ö‡∏ß‡∏á‡∏à‡∏£ ...</p>
        <ul>
          <li data-i18n="about.feature.search">‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏Ç‡∏±‡πâ‡∏ô‡∏™‡∏π‡∏á</li>
          <li data-i18n="about.feature.share">‡πÅ‡∏ä‡∏£‡πå‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á</li>
          <li data-i18n="about.feature.pdpa">‡∏ü‡∏≠‡∏£‡πå‡∏° PDPA ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô</li>
        </ul>
      </article>
      <article class="gold-panel">
        <h3 data-i18n="units.title">‡∏Ñ‡∏π‡πà‡∏°‡∏∑‡∏≠‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà</h3>
        <p data-i18n="units.th.rule">‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏ß‡∏±‡∏î‡∏ó‡∏µ‡πà‡∏î‡∏¥‡∏ô‡πÑ‡∏ó‡∏¢</p>
        <ul>
          <li data-i18n="units.rai">1 ‡πÑ‡∏£‡πà = 4 ‡∏á‡∏≤‡∏ô = 400 ‡∏ï‡∏£.‡∏ß‡∏≤</li>
          <li data-i18n="units.ngan">1 ‡∏á‡∏≤‡∏ô = 100 ‡∏ï‡∏£.‡∏ß‡∏≤</li>
          <li data-i18n="units.wah">1 ‡∏ï‡∏£.‡∏ß‡∏≤ = 4 ‡∏ï‡∏£.‡∏°.</li>
        </ul>
        <p style="margin-top:18px;font-weight:600;" data-i18n="units.convert">‡∏Å‡∏≤‡∏£‡πÅ‡∏õ‡∏•‡∏á‡∏´‡∏ô‡πà‡∏ß‡∏¢</p>
        <ul>
          <li data-i18n="units.convert.rai">1 ‡πÑ‡∏£‡πà = 1,600 ‡∏ï‡∏£.‡∏°.</li>
          <li data-i18n="units.convert.ngan">1 ‡∏á‡∏≤‡∏ô = 400 ‡∏ï‡∏£.‡∏°.</li>
          <li data-i18n="units.convert.wah">1 ‡∏ï‡∏£.‡∏ß‡∏≤ = 4 ‡∏ï‡∏£.‡∏°.</li>
        </ul>
      </article>
      <article class="gold-panel">
        <h3 data-i18n="zoning.legend">‡∏™‡∏µ‡∏ú‡∏±‡∏á‡πÄ‡∏°‡∏∑‡∏≠‡∏á</h3>
        <ul class="zoning-legend-mini">
          <li><span style="--c:#FFC0CB"></span> ‡∏ä‡∏°‡∏û‡∏π</li>
          <li><span style="--c:#B19CD9"></span> ‡∏°‡πà‡∏ß‡∏á</li>
          <li><span style="--c:#8B4513"></span> ‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•</li>
          <li><span style="--c:#228B22"></span> ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß</li>
          <li><span style="--c:#FFD700"></span> ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á</li>
        </ul>
      </article>
    </div>
  </section>
</main>

<footer class="site-footer">
  <div class="footer-grid">
    <div>
      <h3 class="footer-brand">NextPlot</h3>
      <p data-i18n="hero.description" class="footer-desc">
        ‡∏ö‡πâ‡∏≤‡∏ô  ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏û‡∏≤‡∏ì‡∏¥‡∏ä  ‡∏ó‡∏µ‡πà‡∏î‡∏¥‡∏ô ‡πÇ‡∏Å‡∏î‡∏±‡∏á ‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ü‡∏µ‡πÄ‡∏à‡∏≠‡∏£‡πå‡πÅ‡∏ä‡∏£‡πå‡∏á‡πà‡∏≤‡∏¢‡∏´‡∏•‡∏≤‡∏¢‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢...
      </p>
    </div>
    <div>
      <h4 class="footer-head">‡πÄ‡∏°‡∏ô‡∏π</h4>
      <div class="footer-links">
        <a href="#top">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</a>
        <a href="#properties" data-i18n="nav.properties">‡∏ó‡∏µ‡πà‡∏î‡∏¥‡∏ô</a>
        <a href="#contact" data-i18n="nav.contact">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠</a>
        <a href="https://landsmaps.dol.go.th/" target="_blank" rel="noopener" data-i18n="nav.landsmaps">LandsMaps</a>
      </div>
    </div>
    <div>
      <h4 class="footer-head">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</h4>
      <p class="footer-desc">
        <span style="display:inline-block;width:8px;height:8px;background:#3BB273;border-radius:50%;margin-right:6px;"></span>
        Online<br>Gold UI
      </p>
    </div>
  </div>
  <small>¬© <span id="year"></span> NextPlot</small>
</footer>

<div id="modalRoot"></div>

<!-- Fallback Controller -->
<script type="module">
(async ()=>{
  console.log('[boot] start module import sequence');
  let imported = false;
  try{
    await import('./src/main.js');
    imported = true;
    console.log('[boot] main.js imported');
  }catch(e){
    console.warn('[boot] main.js import failed => will fallback', e);
  }
  // ‡∏£‡∏≠‡πÉ‡∏´‡πâ main.js ‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™ render
  setTimeout(()=>{
    const hasCards = document.querySelector('.prop-card');
    if(hasCards){
      console.log('[fallback] not needed (cards exist)');
      return;
    }
    console.warn('[fallback] active ‚Äì module failed or empty, injecting seed renderer');
    const grid = document.getElementById('propertiesGrid');
    const debug = document.getElementById('debugSlot');
    if(debug){
      debug.innerHTML = '<div class="fallback-note">(fallback active ‚Äì module '+(imported?'ran but empty':'import failed')+')</div>';
    }
    const seed = [
      {code:'NP006',title:'Bangna Bangkok 2 Rai 2 Ngan',location:'Bangna, Bangkok',price:15000000,area:'2.5 ‡πÑ‡∏£‡πà',status:'available',color:'#FFD700',tags:['‡∏•‡∏á‡∏ó‡∏∏‡∏ô','‡πÇ‡∏â‡∏ô‡∏î‡∏û‡∏£‡πâ‡∏≠‡∏°'] ,img:'https://images.unsplash.com/photo-1464822759844-d150ad6082ba?w=600&auto=format&fit=crop&q=60'},
      {code:'NP001',title:'Pluak Daeng 3.5 Rai',location:'Pluak Daeng, Rayong',price:5200000,area:'3.5 ‡πÑ‡∏£‡πà',status:'available',color:'#FFC0CB',tags:['‡∏•‡∏á‡∏ó‡∏∏‡∏ô','‡πÉ‡∏Å‡∏•‡πâ‡∏ñ‡∏ô‡∏ô‡πÉ‡∏´‡∏ç‡πà'],img:'https://images.unsplash.com/photo-1472145246862-b24cf25c4a36?w=600&auto=format&fit=crop&q=60'},
      {code:'NP002',title:'Bo Win 2 Rai',location:'Bo Win, Chonburi',price:7800000,area:'2 ‡πÑ‡∏£‡πà',status:'available',color:'#B19CD9',tags:['‡πÄ‡∏ä‡∏¥‡∏á‡∏û‡∏≤‡∏ì‡∏¥‡∏ä‡∏¢‡πå'],img:'https://images.unsplash.com/photo-1469474968028-56623f02e42e?w=600&auto=format&fit=crop&q=60'},
      {code:'NP003',title:'Pluak Daeng 1.25 Rai (Reserved)',location:'Pluak Daeng, Rayong',price:3500000,area:'1.25 ‡πÑ‡∏£‡πà',status:'reserved',color:'#8B4513',tags:['‡∏Ñ‡∏∏‡πâ‡∏°‡∏Ñ‡πà‡∏≤'],img:'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=600&auto=format&fit=crop&q=60'},
      {code:'NP004',title:'Scenic 5 Rai',location:'Pluak Daeng, Rayong',price:12500000,area:'5 ‡πÑ‡∏£‡πà',status:'available',color:'#228B22',tags:['‡∏ß‡∏¥‡∏ß‡∏™‡∏ß‡∏¢'],img:'https://images.unsplash.com/photo-1501785888041-af3ef285b470?w=600&auto=format&fit=crop&q=60'},
      {code:'NP005',title:'Special 0.75 Rai (Sold)',location:'Pluak Daeng, Rayong',price:2800000,area:'0.75 ‡πÑ‡∏£‡πà',status:'sold',color:'#FFD700',tags:['‡∏£‡∏≤‡∏Ñ‡∏≤‡∏û‡∏¥‡πÄ‡∏®‡∏©'],img:'https://images.unsplash.com/photo-1523413651479-597eb2da0ad6?w=600&auto=format&fit=crop&q=60'}
    ];
    const statusLabel = {available:'‡∏ß‡πà‡∏≤‡∏á',reserved:'‡∏à‡∏≠‡∏á',sold:'‡∏Ç‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß'};
    grid.innerHTML = seed.map(p=>`
      <div class="fallback-card">
        <img class="fallback-cover" src="${p.img}" alt="${p.title}">
        <div style="font-size:11px;color:var(--accent);letter-spacing:1px">${p.code}</div>
        <h3>${p.title}</h3>
        <div class="fallback-meta">
          <div>${p.location}</div>
          <div class="fallback-price">${p.price.toLocaleString()} THB</div>
          <div>${p.area}</div>
        </div>
        <div>
          <span class="fallback-badge" style="background:${p.status==='sold'?'#7a1b24':p.status==='reserved'?'#996f1d':'#256f3d'}">${statusLabel[p.status]}</span>
          ${p.tags.map(t=>`<span class="fallback-badge">${t}</span>`).join('')}
        </div>
        <div class="fallback-zoning"><span class="sw" style="background:${p.color}"></span><span>Zoning</span></div>
        <button style="margin-top:6px" class="btn-small" onclick="alert('‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î (‡πÇ‡∏´‡∏°‡∏î fallback)')">‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</button>
      </div>
    `).join('');
  }, 800);
})();
</script>

</body>
</html>
